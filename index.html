<!DOCTYPE html>
<html>
<head>
    <title>اختبار CPA API</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }
        .offer {
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 5px;
        }
        .offer img {
            max-width: 200px;
            max-height: 200px;
        }
        .loading {
            color: #666;
            font-style: italic;
        }
    </style>
</head>
<body>
    <h1>عروض CPA</h1>
    <div id="offers" class="loading">جاري تحميل العروض...</div>

    <script>
        // رابط API الخاص بك
        const apiUrl = 'https://d3o07fqjkwc0s0.cloudfront.net/public/offers/feed.php?user_id=584180&api_key=ad55fcf79b3953d539938be8015c3900';
        
        // عنصر لعرض النتائج
        const offersDiv = document.getElementById('offers');
        
        // جلب البيانات من API
        fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
                if(data && data.length > 0) {
                    let html = '';
                    data.forEach(offer => {
                        html += `
                            <div class="offer">
                                <h3>${offer.title || 'لا يوجد عنوان'}</h3>
                                ${offer.image ? `<img src="${offer.image}" alt="${offer.title || ''}">` : ''}
                                <p>${offer.description || 'لا يوجد وصف'}</p>
                                <p>السعر: ${offer.price || 'غير محدد'}</p>
                                <a href="${offer.link || '#'}" target="_blank">اذهب إلى العرض</a>
                            </div>
                        `;
                    });
                    offersDiv.innerHTML = html;
                } else {
                    offersDiv.innerHTML = 'لا توجد عروض متاحة';
                }
            })
            .catch(error => {
                console.error('Error:', error);
                offersDiv.innerHTML = 'حدث خطأ في جلب العروض. يرجى التحقق من رابط API.';
            });
    </script>
</body>
</html>
